<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Status Monitor - 纯静态的网站监控</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>🔮</text></svg>">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- 背景装饰 -->
  <div class="bg-decoration">
    <div class="bg-gradient-1"></div>
    <div class="bg-gradient-2"></div>
    <div class="bg-gradient-3"></div>
  </div>

  <!-- 顶部导航 -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-brand">
        <div class="brand-logo">
          <i class="fas fa-shield-alt"></i>
        </div>
        <div class="brand-info">
          <h1 class="brand-name">Status Monitor</h1>
          <span class="brand-tagline" data-i18n="tagline">实时网站监控</span>
        </div>
      </div>

      <div class="nav-center">
        <div class="nav-tabs">
          <button class="nav-tab active" data-tab="monitor">
            <i class="fas fa-chart-line"></i>
            <span data-i18n="nav.monitor">监控面板</span>
          </button>
          <button class="nav-tab" data-tab="analytics">
            <i class="fas fa-chart-pie"></i>
            <span data-i18n="nav.analytics">分析统计</span>
          </button>
          <button class="nav-tab" data-tab="settings">
            <i class="fas fa-cog"></i>
            <span data-i18n="nav.settings">设置</span>
          </button>
        </div>
      </div>

      <div class="nav-actions">
        <button class="nav-btn" id="lang-switch" title="Switch Language">
          <i class="fas fa-language"></i>
          <span id="current-lang">中文</span>
        </button>
        <button class="nav-btn" id="theme-toggle" title="Toggle Theme">
          <i class="fas fa-moon" id="theme-icon"></i>
        </button>
        <a href="https://github.com" target="_blank" class="nav-btn" title="GitHub">
          <i class="fab fa-github"></i>
        </a>
      </div>
    </div>
  </nav>

  <!-- 主内容区 -->
  <main class="main-container">
    <!-- 监控面板 -->
    <div class="tab-content active" id="monitor-tab">
      <!-- 统计卡片 -->
      <div class="stats-section">
        <div class="stats-card">
          <div class="stats-icon blue">
            <i class="fas fa-globe"></i>
          </div>
          <div class="stats-info">
            <h3 class="stats-value" id="total-sites">0</h3>
            <p class="stats-label" data-i18n="stats.total">监控站点</p>
          </div>
          <div class="stats-chart">
            <canvas id="mini-chart-1"></canvas>
          </div>
        </div>

        <div class="stats-card">
          <div class="stats-icon green">
            <i class="fas fa-check-circle"></i>
          </div>
          <div class="stats-info">
            <h3 class="stats-value" id="online-sites">0</h3>
            <p class="stats-label" data-i18n="stats.online">在线站点</p>
          </div>
          <div class="stats-chart">
            <canvas id="mini-chart-2"></canvas>
          </div>
        </div>

        <div class="stats-card">
          <div class="stats-icon orange">
            <i class="fas fa-exclamation-triangle"></i>
          </div>
          <div class="stats-info">
            <h3 class="stats-value" id="warning-sites">0</h3>
            <p class="stats-label" data-i18n="stats.warning">响应缓慢</p>
          </div>
          <div class="stats-chart">
            <canvas id="mini-chart-3"></canvas>
          </div>
        </div>

        <div class="stats-card">
          <div class="stats-icon red">
            <i class="fas fa-times-circle"></i>
          </div>
          <div class="stats-info">
            <h3 class="stats-value" id="offline-sites">0</h3>
            <p class="stats-label" data-i18n="stats.offline">离线站点</p>
          </div>
          <div class="stats-chart">
            <canvas id="mini-chart-4"></canvas>
          </div>
        </div>
      </div>

      <!-- 操作栏 -->
      <div class="action-bar">
        <div class="action-left">
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="search-input" data-i18n-placeholder="search.placeholder" placeholder="搜索站点...">
          </div>
          <div class="filter-chips">
            <button class="chip active" data-filter="all">
              <span data-i18n="filter.all">全部</span>
              <span class="chip-count" id="filter-all">0</span>
            </button>
            <button class="chip" data-filter="online">
              <span class="chip-dot green"></span>
              <span data-i18n="filter.online">在线</span>
              <span class="chip-count" id="filter-online">0</span>
            </button>
            <button class="chip" data-filter="slow">
              <span class="chip-dot orange"></span>
              <span data-i18n="filter.slow">缓慢</span>
              <span class="chip-count" id="filter-slow">0</span>
            </button>
            <button class="chip" data-filter="offline">
              <span class="chip-dot red"></span>
              <span data-i18n="filter.offline">离线</span>
              <span class="chip-count" id="filter-offline">0</span>
            </button>
          </div>
        </div>
        <div class="action-right">
          <button class="btn btn-secondary" id="refresh-all">
            <i class="fas fa-sync-alt"></i>
            <span data-i18n="action.refresh">刷新全部</span>
          </button>
          <button class="btn btn-primary" id="add-site">
            <i class="fas fa-plus"></i>
            <span data-i18n="action.add">添加站点</span>
          </button>
        </div>
      </div>

      <!-- 站点网格 -->
      <div class="sites-grid" id="sites-container">
        <!-- 站点卡片将在这里动态生成 -->
      </div>

      <!-- 加载状态 -->
      <div class="loading-state" id="loading-state">
        <div class="loading-spinner">
          <div class="spinner-ring"></div>
          <div class="spinner-ring"></div>
          <div class="spinner-ring"></div>
        </div>
        <p data-i18n="loading">正在加载...</p>
      </div>

      <!-- 空状态 -->
      <div class="empty-state" id="empty-state" style="display: none;">
        <div class="empty-illustration">
          <i class="fas fa-inbox"></i>
        </div>
        <h3 data-i18n="empty.title">暂无监控站点</h3>
        <p data-i18n="empty.desc">点击"添加站点"按钮开始监控</p>
      </div>
    </div>

    <!-- 分析统计 -->
    <div class="tab-content" id="analytics-tab">
      <div class="analytics-container">
        <div class="chart-section">
          <div class="chart-card">
            <div class="chart-header">
              <h3 data-i18n="chart.response">响应时间趋势</h3>
              <div class="chart-controls">
                <button class="time-range active" data-range="1h">1小时</button>
                <button class="time-range" data-range="24h">24小时</button>
                <button class="time-range" data-range="7d">7天</button>
              </div>
            </div>
            <canvas id="response-chart"></canvas>
          </div>
        </div>

        <div class="chart-row">
          <div class="chart-card half">
            <div class="chart-header">
              <h3 data-i18n="chart.uptime">可用性分布</h3>
            </div>
            <canvas id="uptime-chart"></canvas>
          </div>
          <div class="chart-card half">
            <div class="chart-header">
              <h3 data-i18n="chart.status">状态分布</h3>
            </div>
            <canvas id="status-chart"></canvas>
          </div>
        </div>

        <div class="events-section">
          <div class="events-header">
            <h3 data-i18n="events.title">最近事件</h3>
            <button class="btn-text" id="clear-events" data-i18n="events.clear">清空</button>
          </div>
          <div class="events-list" id="events-list">
            <!-- 事件列表将在这里动态生成 -->
          </div>
        </div>
      </div>
    </div>

    <!-- 设置页面 -->
    <div class="tab-content" id="settings-tab">
      <div class="settings-container">
        <div class="settings-section">
          <h3 data-i18n="settings.general">常规设置</h3>
          <div class="settings-group">
            <div class="setting-item">
              <div class="setting-label">
                <span data-i18n="settings.interval">检查间隔</span>
                <small data-i18n="settings.intervalDesc">自动检查的时间间隔</small>
              </div>
              <select id="check-interval" class="setting-control">
                <option value="30">30秒</option>
                <option value="60" selected>1分钟</option>
                <option value="300">5分钟</option>
                <option value="600">10分钟</option>
              </select>
            </div>

            <div class="setting-item">
              <div class="setting-label">
                <span data-i18n="settings.timeout">超时时间</span>
                <small data-i18n="settings.timeoutDesc">请求超时限制</small>
              </div>
              <select id="timeout" class="setting-control">
                <option value="5">5秒</option>
                <option value="10" selected>10秒</option>
                <option value="30">30秒</option>
              </select>
            </div>

            <div class="setting-item">
              <div class="setting-label">
                <span data-i18n="settings.autoCheck">自动检查</span>
                <small data-i18n="settings.autoCheckDesc">启用自动定时检查</small>
              </div>
              <label class="toggle">
                <input type="checkbox" id="auto-check" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>

            <div class="setting-item">
              <div class="setting-label">
                <span data-i18n="settings.notification">通知提醒</span>
                <small data-i18n="settings.notificationDesc">站点状态变化时通知</small>
              </div>
              <label class="toggle">
                <input type="checkbox" id="enable-notification">
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </div>

        <div class="settings-section">
          <h3 data-i18n="settings.data">数据管理</h3>
          <div class="settings-group">
            <div class="setting-item">
              <div class="setting-label">
                <span data-i18n="settings.export">导出数据</span>
                <small data-i18n="settings.exportDesc">导出所有站点和历史数据</small>
              </div>
              <button class="btn btn-secondary" id="export-data">
                <i class="fas fa-download"></i>
                <span data-i18n="action.export">导出</span>
              </button>
            </div>

            <div class="setting-item">
              <div class="setting-label">
                <span data-i18n="settings.import">导入数据</span>
                <small data-i18n="settings.importDesc">从文件导入配置</small>
              </div>
              <button class="btn btn-secondary" id="import-data">
                <i class="fas fa-upload"></i>
                <span data-i18n="action.import">导入</span>
              </button>
              <input type="file" id="import-file" accept=".json" style="display: none;">
            </div>

            <div class="setting-item">
              <div class="setting-label">
                <span data-i18n="settings.clear">清空数据</span>
                <small data-i18n="settings.clearDesc">删除所有站点和历史记录</small>
              </div>
              <button class="btn btn-danger" id="clear-data">
                <i class="fas fa-trash"></i>
                <span data-i18n="action.clear">清空</span>
              </button>
            </div>
          </div>
        </div>

        <div class="settings-section">
          <h3 data-i18n="settings.about">关于</h3>
          <div class="about-info">
            <div class="about-logo">
              <i class="fas fa-shield-alt"></i>
            </div>
            <h4>Status Monitor</h4>
            <p data-i18n="about.desc">优雅的静态网站监控工具</p>
            <div class="about-meta">
              <span>Version 2.0.0</span>
              <span>•</span>
              <span>MIT License</span>
            </div>
            <div class="about-links">
              <a href="https://github.com" target="_blank">
                <i class="fab fa-github"></i> GitHub
              </a>
              <a href="#" target="_blank">
                <i class="fas fa-book"></i> <span data-i18n="about.docs">文档</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- 添加站点弹窗 -->
  <div class="modal" id="add-modal">
    <div class="modal-backdrop" onclick="closeModal()"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3 data-i18n="modal.title">添加监控站点</h3>
        <button class="modal-close" onclick="closeModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label data-i18n="modal.name">站点名称</label>
          <input type="text" id="input-name" class="form-control" data-i18n-placeholder="modal.namePlaceholder" placeholder="例如：我的博客">
        </div>
        <div class="form-group">
          <label data-i18n="modal.url">站点地址</label>
          <input type="url" id="input-url" class="form-control" placeholder="https://example.com">
        </div>
        <div class="form-group">
          <label data-i18n="modal.description">描述（可选）</label>
          <textarea id="input-description" class="form-control" rows="2" data-i18n-placeholder="modal.descPlaceholder" placeholder="站点描述..."></textarea>
        </div>
        <div class="form-group">
          <label data-i18n="modal.method">检测方式</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="method" value="http" checked>
              <span class="radio-label">
                <i class="fas fa-globe"></i>
                HTTP/HTTPS
              </span>
            </label>
            <label class="radio-option">
              <input type="radio" name="method" value="ping">
              <span class="radio-label">
                <i class="fas fa-wifi"></i>
                Ping
              </span>
            </label>
            <label class="radio-option">
              <input type="radio" name="method" value="port">
              <span class="radio-label">
                <i class="fas fa-plug"></i>
                Port
              </span>
            </label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal()">
          <span data-i18n="modal.cancel">取消</span>
        </button>
        <button class="btn btn-primary" onclick="saveSite()">
          <i class="fas fa-save"></i>
          <span data-i18n="modal.save">保存</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Toast 通知 -->
  <div class="toast-container" id="toast-container"></div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js"></script>
</body>
</html>