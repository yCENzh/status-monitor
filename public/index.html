<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebStatus - 静态网站监控</title>
  <meta name="description" content="免费开源的网站状态监控工具，无需服务器，纯浏览器运行">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>📊</text></svg>">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <!-- 顶部导航 -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-brand">
          <span class="brand-icon">📊</span>
          <span class="brand-text">WebStatus</span>
          <span class="badge">静态版</span>
        </div>
        <div class="nav-menu">
          <button class="nav-item active" data-view="dashboard">
            <span class="icon">📈</span>
            <span>仪表板</span>
          </button>
          <button class="nav-item" data-view="history">
            <span class="icon">📜</span>
            <span>历史记录</span>
          </button>
          <button class="nav-item" data-view="settings">
            <span class="icon">⚙️</span>
            <span>设置</span>
          </button>
        </div>
        <div class="nav-actions">
          <button class="btn-icon" id="theme-btn" title="切换主题">
            <span class="icon">🌙</span>
          </button>
          <a href="https://github.com/yourusername/webstatus" target="_blank" class="btn-icon" title="GitHub">
            <span class="icon">📦</span>
          </a>
        </div>
      </div>
    </nav>

    <!-- 主内容区 -->
    <main class="main-content">
      <!-- 仪表板视图 -->
      <div id="dashboard-view" class="view active">
        <!-- 快速统计 -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-header">
              <span class="stat-icon">🌐</span>
              <span class="stat-label">总站点</span>
            </div>
            <div class="stat-value" id="stat-total">0</div>
            <div class="stat-change">
              <span class="trend up">↑</span>
              <span>本地存储</span>
            </div>
          </div>
          <div class="stat-card success">
            <div class="stat-header">
              <span class="stat-icon">✅</span>
              <span class="stat-label">可访问</span>
            </div>
            <div class="stat-value" id="stat-online">0</div>
            <div class="stat-change">
              <span class="percentage" id="online-percent">0%</span>
            </div>
          </div>
          <div class="stat-card danger">
            <div class="stat-header">
              <span class="stat-icon">❌</span>
              <span class="stat-label">无响应</span>
            </div>
            <div class="stat-value" id="stat-offline">0</div>
            <div class="stat-change">
              <span class="percentage" id="offline-percent">0%</span>
            </div>
          </div>
          <div class="stat-card info">
            <div class="stat-header">
              <span class="stat-icon">⚡</span>
              <span class="stat-label">平均延迟</span>
            </div>
            <div class="stat-value" id="stat-latency">0ms</div>
            <div class="stat-change">
              <span id="latency-trend">-</span>
            </div>
          </div>
        </div>

        <!-- 控制栏 -->
        <div class="control-bar">
          <div class="control-left">
            <button class="btn primary" id="add-site-btn">
              <span class="icon">➕</span>
              添加站点
            </button>
            <button class="btn" id="check-all-btn">
              <span class="icon">🔄</span>
              全部检测
            </button>
            <button class="btn" id="import-btn">
              <span class="icon">📥</span>
              导入
            </button>
            <button class="btn" id="export-btn">
              <span class="icon">📤</span>
              导出
            </button>
          </div>
          <div class="control-right">
            <input type="text" class="search-input" id="search-input" placeholder="搜索站点...">
            <label class="switch">
              <input type="checkbox" id="auto-check" checked>
              <span class="slider"></span>
              <span class="switch-label">自动检测</span>
            </label>
          </div>
        </div>

        <!-- 站点列表 -->
        <div class="sites-container" id="sites-container">
          <!-- 站点卡片将在这里动态生成 -->
        </div>

        <!-- 空状态 -->
        <div class="empty-state" id="empty-state" style="display: none;">
          <div class="empty-icon">🌍</div>
          <h3>还没有添加任何站点</h3>
          <p>点击"添加站点"按钮开始监控您的第一个网站</p>
          <button class="btn primary" onclick="document.getElementById('add-site-btn').click()">
            添加第一个站点
          </button>
        </div>
      </div>

      <!-- 历史记录视图 -->
      <div id="history-view" class="view">
        <div class="history-header">
          <h2>检测历史</h2>
          <button class="btn-text" id="clear-history">清空历史</button>
        </div>
        <div class="timeline" id="timeline">
          <!-- 时间线将在这里动态生成 -->
        </div>
      </div>

      <!-- 设置视图 -->
      <div id="settings-view" class="view">
        <div class="settings-container">
          <h2>设置</h2>
          
          <div class="setting-group">
            <h3>检测设置</h3>
            <div class="setting-item">
              <label>默认检测间隔（秒）</label>
              <input type="number" id="default-interval" min="30" max="3600" value="300">
            </div>
            <div class="setting-item">
              <label>请求超时时间（秒）</label>
              <input type="number" id="default-timeout" min="5" max="60" value="10">
            </div>
            <div class="setting-item">
              <label>最大重试次数</label>
              <input type="number" id="max-retries" min="0" max="5" value="2">
            </div>
          </div>

          <div class="setting-group">
            <h3>数据设置</h3>
            <div class="setting-item">
              <label>历史记录保留条数</label>
              <input type="number" id="history-limit" min="10" max="1000" value="100">
            </div>
            <div class="setting-item">
              <button class="btn danger" id="clear-all-data">
                <span class="icon">🗑️</span>
                清空所有数据
              </button>
            </div>
          </div>

          <div class="setting-group">
            <h3>关于</h3>
            <div class="info-box">
              <p><strong>WebStatus</strong> - 静态网站监控工具</p>
              <p>版本：1.0.0</p>
              <p>作者：Open Source Community</p>
              <p>许可：MIT License</p>
              <br>
              <p>⚠️ 注意事项：</p>
              <ul>
                <li>本工具完全在浏览器中运行</li>
                <li>数据存储在浏览器本地存储中</li>
                <li>由于浏览器限制，部分网站可能无法检测</li>
                <li>建议使用现代浏览器以获得最佳体验</li>
              </ul>
            </div>
          </div>

          <button class="btn primary" id="save-settings">保存设置</button>
        </div>
      </div>
    </main>

    <!-- 添加站点弹窗 -->
    <div class="modal" id="add-site-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>添加监控站点</h3>
          <button class="modal-close" id="close-modal">✕</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>站点名称 *</label>
            <input type="text" id="input-name" placeholder="例如：我的博客">
          </div>
          <div class="form-group">
            <label>站点URL *</label>
            <input type="url" id="input-url" placeholder="https://example.com">
            <small>提示：确保URL包含协议（http:// 或 https://）</small>
          </div>
          <div class="form-group">
            <label>检测方式</label>
            <div class="check-methods">
              <label class="checkbox-label">
                <input type="radio" name="method" value="fetch" checked>
                <span>Fetch API（推荐）</span>
              </label>
              <label class="checkbox-label">
                <input type="radio" name="method" value="image">
                <span>图片加载法</span>
              </label>
              <label class="checkbox-label">
                <input type="radio" name="method" value="jsonp">
                <span>JSONP（需支持）</span>
              </label>
            </div>
            <small>不同的检测方式适用于不同的场景</small>
          </div>
          <div class="form-group">
            <label>检测间隔（秒）</label>
            <input type="number" id="input-interval" min="30" max="3600" value="300">
          </div>
          <div class="form-group">
            <label>备注（可选）</label>
            <textarea id="input-description" rows="2" placeholder="添加一些备注信息..."></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn" id="cancel-add">取消</button>
          <button class="btn primary" id="confirm-add">添加</button>
        </div>
      </div>
    </div>

    <!-- 提示消息 -->
    <div class="toast-container" id="toast-container"></div>

    <!-- 导入文件input（隐藏） -->
    <input type="file" id="import-file" accept=".json" style="display: none;">
  </div>

  <script src="app.js"></script>
</body>
</html>